---
layout:     post
title:      AcWing基础算法-基础算法（二）
subtitle:   AcWing基础算法碎碎念
date:       2021-02-17
author:     小熊pink
header-img: img/the-first.png
catalog:   true
tags:
    - AcWing基础算法
---
[TOC]

# 高精度

这里只讲常用的四种形式：

- A+B
- A-B
- A*b
- A/b

（A、B为位数很大的非负整数，b为数值较小的非负整数）

（通常，len(A), len(B) <= 1e6）

1. 数据类型

   A、B用STL里的vector<int>

   b用int

2. 存储方式

   vector内从左往右，按从个位到高位存储A、B的数

   原因：加位数时，时间复杂度小

## 高精度加法

A + B

从个位往高位加，每次加上进位t（0或1）。%10的对应位结果，/10得t。

## 高精度减法

A - B

模板用大数减小数。

从个位往高位减，每次减去借位t（0或1）。用(+10)%10获取对应位结果，>=0得t=0，<0的t=1。

最后去掉前导0。

## 高精度乘法

A * b

从A的个位往高位，与b相乘。每次加上进位t（>=0）。%10得对应位结果，/10得t。

最后去掉前导0。（111*0=000）

## 高精度除法

A / b 算出商与余数

从A的高位往个位，每次加上前一位余数r*10。/b得对应位结果，%b得对应位余数r。

由于计算顺序为从高位往个位，要用<algorithm> 里的reverse函数操作一下C。

最后去掉前导0。



# 前缀和、差分

一维：

数列$\{a_n\}:$ $ a_1, a_2, ..., a_n $ 为前缀和的数列。

数列$\{b_n\}:$ $ b_1, b_2, ..., b_n $ 为差分的数列。

其中，$a_{i} = b_1 + b_2 + ... + b_i = a_{i - 1} + b_{i}$

二维数组类比。 左竖轴为x，上横轴为y

思考请以b的分布为视角。



## 前缀和

作用：用O(n)的时间复杂度，求出前缀和数列/数组后，可用O(1)的时间计算b内 区间[l, r] 或者 以$(x_1,y_1)$、$(x_2,y_2)$为对角线矩阵 所有元素相加的和。

否则，每次求和需用对应元素数目的时间复杂度。



已知b，求前缀和a：

一维：$a_{i} = a_{i - 1} + b_{i}$ （设$a_{0} = 0$）

二维：$a_{i,j} = a_{i-1,j} + a_{i,j-1} - a_{i-1,j-1} + b_{i,j}$ （设$a_{0,i} = a_{0,j} = 0$）

求所需元素和：

一维区间：$a_{r} - a_{l-1}$

二维矩阵：$a_{x_2,y_2} - a_{x_1 - 1,y_2} - a_{x_2,y_1 - 1} + a_{x_1 - 1,y_1 - 1}$



## 差分

作用：用O(n)的时间复杂度，求出差分数列/数组后，可用O(1)的时间将a内 区间[l, r] 或者 以$(x_1,y_1)$、$(x_2,y_2)$为对角线矩阵 中的所有元素加上一个数c。（最后用O(n)的时间算出操作很多次后的a）

否则，每次执行这项操作需用对应元素数目的时间复杂度。



执行这项操作（或已知a，求差分b）：

一维区间：$b_l + c$

​					$b_{r-1} - c$

二维矩阵：$b_{x_1,y_1} + c$

​					$b_{x_2 + 1,y_1} - c$

​					$b_{x_1,y_2 + 1} - c$

​					$b_{x_2 + 1,y_2 + 1} + c$
